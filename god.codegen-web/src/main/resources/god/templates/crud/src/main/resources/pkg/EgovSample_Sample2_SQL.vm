##
#set($voPackage="${package}.service")
#set($voClassName="${entity.pcName}VO")
#set($daoPackage="${package}.service.impl")
#set($daoClassName="${entity.pcName}DAO")
#set($daoName="${entity.ccName}DAO")
#set($daoInstanceName="${entity.ccName}DAO")
##
##
#set($namespace="$entity.pcName")
#set($resultMapId="${entity.ccName}")
#set($resultMapClass="${voPackage}.${voClassName}")
##
##
#set($insertQueryId="${daoClassName}.insert${entity.pcName}")
#set($updateQueryId="${daoInstanceName}.update${entity.pcName}_S")
#set($deleteQueryId="${daoInstanceName}.delete${entity.pcName}_S")
#set($selectQueryId="${daoInstanceName}.select${entity.pcName}_S")
#set($selectListQueryId="${daoInstanceName}.select${entity.pcName}List_D")
#set($selectListTotCntQueryId="${daoInstanceName}.select${entity.pcName}ListTotCnt_S")
##
##

## ##################################################################################################

package=${package}

entity.name=${entity.name}
entity.ucName=${entity.ucName}
entity.lcName=${entity.lcName}
entity.ccName=${entity.ccName}
entity.pcName=${entity.pcName}

/* ${insertQueryId} */
INSERT INTO ${entity.name} ( /* ${entity.tableComments} */
#set($i=0)	
#foreach($attribute in $attributes)
#if($i == 0)
       ${attribute.name} /* ${attribute.columnComments} */
#elseif($i < ($attributes.size() - 1))
     , ${attribute.name} /* ${attribute.columnComments} */
#else
     , ${attribute.name} /* ${attribute.columnComments} */
#end
#set($i=$i+1)
#end
##
)
VALUES (
#set($i=0)	
#foreach($attribute in $attributes)
#if($i == 0)
       ${attribute.values} /* ${attribute.columnComments} */
#elseif($i < ($attributes.size() - 1))
     , ${attribute.values} /* ${attribute.columnComments} */
#else
     , ${attribute.values} /* ${attribute.columnComments} */
#end
#set($i=$i+1)
#end
)

## ##################################################################################################	
	<update id="${updateQueryId}">
		<![CDATA[
			UPDATE ${entity.name}
#set($i=0)	
#foreach($attribute in $attributes)
#if($i == 0)
			SET ${attribute.name}=#${attribute.ccName}#
#else
				, ${attribute.name}=#${attribute.ccName}#
#end
#set($i=$i+1)
#end	
##		
#set($i=0)	
#foreach($attribute in $primaryKeys)
#if($i == 0)
			WHERE ${attribute.name}=#${attribute.ccName}#
#else
				AND ${attribute.name}=#${attribute.ccName}#
#end
#set($i=$i+1)
#end
		]]>
	</update>
	
## ##################################################################################################
	<delete id="${deleteQueryId}">
		<![CDATA[
			DELETE FROM ${entity.name} 
#set($i=0)	
#foreach($attribute in $primaryKeys)
#if($i == 0)
			WHERE ${attribute.name}=#${attribute.ccName}#
#else
				AND ${attribute.name}=#${attribute.ccName}#
#end
#set($i=$i+1)
#end
		]]>
	</delete>
	
## ##################################################################################################	
	<select id="${selectQueryId}" resultMap="$resultMapId">
		<![CDATA[
			SELECT
#set($i=0)	
#foreach($attribute in $attributes)
#if($i == 0)
				${attribute.name}
#else
				, ${attribute.name}
#end
#set($i=$i+1)
#end				
			FROM ${entity.name}
#set($i=0)	
#foreach($attribute in $primaryKeys)
#if($i == 0)
			WHERE ${attribute.name}=#${attribute.ccName}#
#else
				AND ${attribute.name}=#${attribute.ccName}#
#end
#set($i=$i+1)
#end
		]]>
	</select>
	
## ##################################################################################################	
	<select id="${selectListQueryId}" parameterClass="searchVO" resultClass="egovMap">

			SELECT
#set($i=0)	
#foreach($attribute in $attributes)
#if($i == 0)
				${attribute.name}
#else
				, ${attribute.name}
#end
#set($i=$i+1)
#end	
			FROM ${entity.name}
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				${attributes.get(0).name} = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				${attributes.get(1).name} LIKE '%' || #searchKeyword# || '%'
			</isEqual>
			ORDER BY ID DESC
			LIMIT #recordCountPerPage# OFFSET #firstIndex#
	</select>
	
## ##################################################################################################	
	<select id="${selectListTotCntQueryId}" parameterClass="searchVO" resultClass="int">

			SELECT COUNT(*) totcnt
			FROM ${entity.name}
			WHERE 1=1
			<isEqual prepend="AND" property="searchCondition" compareValue="0">
				${attributes.get(0).name} = #searchKeyword#
			</isEqual>
			<isEqual prepend="AND" property="searchCondition" compareValue="1">
				${attributes.get(1).name} LIKE '%' || #searchKeyword# || '%'
			</isEqual>
	</select>

</sqlMap>
